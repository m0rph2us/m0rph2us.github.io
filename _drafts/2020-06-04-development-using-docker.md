---
layout: post
excerpt_separator: <!--more-->
title: Development Using Docker
categories: mysql docker
---

# 도커(Docker)를 활용한 개발
## 개요

요즘의 개발, 인프라 구성은 컨테이너 기술을 활용하는 것이 대세가 되어가는 추세다. 이 글에서는 개발 및 인프라 구성을 할 때 어떻게 활용할 수 있는지 설명하려고 한다.
<!--more-->

## 도커를 이용한 개발

도커는 데이터 퍼시스턴스를 명시적으로 지정하지 않는 이상, 컨테이너를 제거하면 변경된 데이터가 소실된다. 이러한 불변성을 이용하면 매번 동일한 환경을 유지하면서 개발을 진행할 수 있다. 

아마도 비즈니스 서비스를 만들면서 데이터베이스를 사용하지 않는 서비스는 거의 없을 것이다. 따라서 이 글에서는 개발을 할 때 MySQL 컨테이너를 어떻게 활용할 수 있는지 그 예를 보여주려고 한다.

### MySQL 컨테이너? Why?

왜 굳이 컨테이너일까? 공용으로 사용하는 MySQL 서버가 있으면 되는 것 아닌가? 하지만 다음을 잘 생각해 보자.

* 다른 버전의 MySQL을 빠르게 테스트해보고 싶은 경우
* MySQL 설정을 바꿔가면서 테스트해보고 싶은 경우
* 슬로우 쿼리나 제너럴 로그를 남겨서 확인하고 싶은 경우
* 특정 테이블을 제거하거나, 칼럼 제거, 이름을 변경하면서 테스트해보고 싶은 경우
* 아무튼 별의별 짓을 해보고 싶은 경우

타인에게 불편함을 주지않고, 위와 같이 할 수 있으려면 서버는 절대 공용으로 사용할 수 없다. 물론 VM으로도 가능한 부분들이 있지만, 컨테이너에 비하면 너무나도 비효율적이다.

컨테이너는 위에 나열한 모든 것을 빠르게 시도해볼 수 있고, 그 누구에게도 불편함을 주지 않으며, 원하는 변경사항을 따로 저장하거나 아무일 없던 것처럼 다시 되돌릴 수 있다.

### 진실의 원천(Source of Truth)

## 리소스 조정

## 마무리

이 글에서는 MySQL 컨테이너를 통해 활용방법을 보여줬지만, 이러한 활용 패턴은 다른 대상에도 적용이 가능할 것이다.

## 참고

1. [컨테이너 vs VM](https://cloud.google.com/containers?hl=ko)
